#data modify storage mods game.38.base set value ['[{"translate":"game.mods.title","color":"dark_gray","bold":true},"\\n",{"translate":"game.mods.desc","color":"gray","bold":false},"\\n\\n",{"translate":"game.Shutterpup.mods.time.title","color":"dark_gray","bold":true},"\\n",{"nbt":"game.38.time[0]","storage":"mods","interpret":true},{"nbt":"game.38.time[1]","storage":"mods","interpret":true},{"nbt":"game.38.time[2]","storage":"mods","interpret":true},{"nbt":"game.38.time[3]","storage":"mods","interpret":true},"\\n",{"translate":"game.Shutterpup.mods.entity.title","color":"dark_gray","bold":true},"\\n",{"nbt":"game.38.entity[0]","storage":"mods","interpret":true},{"nbt":"game.38.entity[1]","storage":"mods","interpret":true},{"nbt":"game.38.entity[2]","storage":"mods","interpret":true}]']


#data modify storage mods game.38.time set from storage mods game.38.time_not_sel
#data modify storage mods game.38.time_not_sel set value ['{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.time.30s","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.Shutterpup.mods.time.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.time.30s","color":"green"}]}},"color":"gray","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 1"}}','{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.time.45s","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.default","with":[{"translate":"game.Shutterpup.mods.time.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.time.45s","color":"green"}]}]}},"color":"gray","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 2"}}','{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.time.1m","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.Shutterpup.mods.time.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.time.1m","color":"green"}]}},"color":"gray","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 3"}}','{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.time.2m","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.Shutterpup.mods.time.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.time.2m","color":"green"}]}},"color":"gray","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 4"}}']
#data modify storage mods game.38.time_sel set value ['{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.time.30s","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.Shutterpup.mods.time.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.time.30s","color":"green"}]}},"color":"gray","bold":true}','{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.time.45s","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.default","with":[{"translate":"game.Shutterpup.mods.time.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.time.45s","color":"green"}]}]}},"color":"gray","bold":true}','{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.time.1m","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.Shutterpup.mods.time.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.time.1m","color":"green"}]}},"color":"gray","bold":true}','{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.time.2m","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.Shutterpup.mods.time.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.time.2m","color":"green"}]}},"color":"gray","bold":true}']


#data modify storage mods game.38.entity set from storage mods game.38.entity_not_sel
#data modify storage mods game.38.entity_not_sel set value ['{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.entity.dog","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.default","with":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.dog","color":"green"}]}]}},"color":"gray","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 1001"}}','{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.entity.cat","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.cat","color":"green"}]},"\\n",{"translate":"game.mods.unlocked_by","color":"aqua","with":[{"selector":"@a[scores={38cat=1},tag=ingame]","color":"blue"}]}]},"color":"gray","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 1002"}}','{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.entity.fox","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.fox","color":"green"}]},"\\n",{"translate":"game.mods.unlocked_by","color":"aqua","with":[{"selector":"@a[scores={38fox=1},tag=ingame]","color":"blue"}]}]},"color":"gray","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 1003"}}']
#data modify storage mods game.38.entity_sel set value ['{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.entity.dog","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.default","with":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.dog","color":"green"}]}]}},"color":"gray","bold":true}','{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.entity.cat","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.cat","color":"green"}]},"\\n",{"translate":"game.mods.unlocked_by","color":"aqua","with":[{"selector":"@a[scores={38cat=1},tag=ingame]","color":"blue"}]}]},"color":"gray","bold":true}','{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.entity.fox","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.fox","color":"green"}]},"\\n",{"translate":"game.mods.unlocked_by","color":"aqua","with":[{"selector":"@a[scores={38fox=1},tag=ingame]","color":"blue"}]}]},"color":"gray","bold":true}']
#data modify storage mods game.38.entity_locked set value ['','{"text":"   ??? \\n","hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.keep_playing","color":"gray","with":[[{"score":{"name":"chance=","objective":"38cat"},"color":"green"},{"text":"%","color":"green"}]]}},"color":"gray","bold":false}','{"text":"   ??? \\n","hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.event_exclusive","color":"gray","with":[{"translate":"game.mods.events.island_quests","color":"red"}]}},"color":"gray","bold":false}']

# COLORED VERSION OF UNLOCKABLE MODS
#data modify storage mods game.38.entity_not_sel set value ['{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.entity.dog","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.default","with":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.dog","color":"green"}]}]}},"color":"gray","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 1001"}}','{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.entity.cat","color":"#C56ADD"},"\\n"],"hoverEvent":{"action":"show_text","contents":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.cat","color":"green"}]},"\\n",{"translate":"game.mods.unlocked_by","color":"aqua","with":[{"selector":"@a[scores={38cat=1},tag=ingame]","color":"blue"}]}]},"color":"#C56ADD","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 1002"}}','{"text":" ○ ","extra":[{"translate":"game.Shutterpup.mods.entity.fox","color":"#FEC53E"},"\\n"],"hoverEvent":{"action":"show_text","contents":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.fox","color":"green"}]},"\\n",{"translate":"game.mods.unlocked_by","color":"aqua","with":[{"selector":"@a[scores={38fox=1},tag=ingame]","color":"blue"}]}]},"color":"#FEC53E","bold":false,"clickEvent":{"action":"run_command","value":"/trigger 38trigs set 1003"}}']
#data modify storage mods game.38.entity_sel set value ['{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.entity.dog","color":"gray"},"\\n"],"hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.default","with":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.dog","color":"green"}]}]}},"color":"gray","bold":true}','{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.entity.cat","color":"#C56ADD"},"\\n"],"hoverEvent":{"action":"show_text","contents":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.cat","color":"green"}]},"\\n",{"translate":"game.mods.unlocked_by","color":"aqua","with":[{"selector":"@a[scores={38cat=1},tag=ingame]","color":"blue"}]}]},"color":"#C56ADD","bold":true}','{"text":" ● ","extra":[{"translate":"game.Shutterpup.mods.entity.fox","color":"#FEC53E"},"\\n"],"hoverEvent":{"action":"show_text","contents":[{"translate":"game.Shutterpup.mods.entity.desc","color":"gray","with":[{"translate":"game.Shutterpup.mods.entity.fox","color":"green"}]},"\\n",{"translate":"game.mods.unlocked_by","color":"aqua","with":[{"selector":"@a[scores={38fox=1},tag=ingame]","color":"blue"}]}]},"color":"#FEC53E","bold":true}']
#data modify storage mods game.38.entity_locked set value ['','{"text":"   ??? \\n","hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.keep_playing","color":"gray","with":[[{"score":{"name":"chance=","objective":"38cat"},"color":"green"},{"text":"%","color":"green"}]]}},"color":"gray","bold":false}','{"text":"   ??? \\n","hoverEvent":{"action":"show_text","contents":{"translate":"game.mods.event_exclusive","color":"gray","with":[{"translate":"game.mods.events.island_quests","color":"red"}]}},"color":"gray","bold":false}']



# TIME TRIGGERS
execute if entity @a[scores={38trigs=1..4}] run data modify storage minecraft:mods game.38.time set from storage minecraft:mods game.38.time_not_sel
execute if entity @a[scores={38trigs=1}] run data modify storage minecraft:mods game.38.time[0] set from storage minecraft:mods game.38.time_sel[0]
execute if entity @a[scores={38trigs=2}] run data modify storage minecraft:mods game.38.time[1] set from storage minecraft:mods game.38.time_sel[1]
execute if entity @a[scores={38trigs=3}] run data modify storage minecraft:mods game.38.time[2] set from storage minecraft:mods game.38.time_sel[2]
execute if entity @a[scores={38trigs=4}] run data modify storage minecraft:mods game.38.time[3] set from storage minecraft:mods game.38.time_sel[3]
execute if entity @a[scores={38trigs=1}] run scoreboard players set timer= 38mods 601
execute if entity @a[scores={38trigs=2}] run scoreboard players set timer= 38mods 901
execute if entity @a[scores={38trigs=3}] run scoreboard players set timer= 38mods 1201
execute if entity @a[scores={38trigs=4}] run scoreboard players set timer= 38mods 2401


# ENTITY TRIGGERS
execute if entity @a[scores={38trigs=1001..1003}] run data modify storage minecraft:mods game.38.entity set from storage minecraft:mods game.38.entity_locked
execute if entity @a[scores={38trigs=1001..1003}] run data modify storage minecraft:mods game.38.entity[0] set from storage minecraft:mods game.38.entity_not_sel[0]
execute if entity @a[tag=ingame,scores={38trigs=1001..1003,38cat=1}] run data modify storage minecraft:mods game.38.entity[1] set from storage minecraft:mods game.38.entity_not_sel[1]
execute if entity @a[tag=ingame,scores={38trigs=1001..1003,38fox=1}] run data modify storage minecraft:mods game.38.entity[2] set from storage minecraft:mods game.38.entity_not_sel[2]
execute if entity @a[scores={38trigs=1001}] run data modify storage minecraft:mods game.38.entity[0] set from storage minecraft:mods game.38.entity_sel[0]
execute if entity @a[scores={38trigs=1002}] run data modify storage minecraft:mods game.38.entity[1] set from storage minecraft:mods game.38.entity_sel[1]
execute if entity @a[scores={38trigs=1003}] run data modify storage minecraft:mods game.38.entity[2] set from storage minecraft:mods game.38.entity_sel[2]
execute if entity @a[scores={38trigs=1001}] run scoreboard players set entity= 38mods 1
execute if entity @a[scores={38trigs=1002}] run scoreboard players set entity= 38mods 2
execute if entity @a[scores={38trigs=1003}] run scoreboard players set entity= 38mods 3


scoreboard players reset @a 38trigs
scoreboard players enable @a 38trigs
data modify block -976 12 -1153 front_text.messages[0] set from storage minecraft:mods game.38.base[0]
execute as @a[tag=ingame] at @s run data modify block ~ ~1 ~ Book.tag.pages[1] set from block -976 12 -1153 front_text.messages[0]